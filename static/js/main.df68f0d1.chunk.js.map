{"version":3,"sources":["redux/dialogs-reducer.js","assets/images/user.png","components/Users/users.module.css","api/api.js","components/Navbar/Navbar.module.css","reportWebVitals.js","redux/sidebar-reducer.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","common/FormsControls/FormsControls.module.css","common/FormsControls/FormsControl.js","utils/validators.js","assets/images/loading.gif","common/loading/Preloader.jsx","common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","messages","id","message","dialogs","name","src","sendMessageCreater","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getRequestUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sideber","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOOGLE_IS_FETCHING","TOOGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toogleIsFetching","toogleFollowingProgress","usersReducer","map","u","followed","count","filter","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","dispatch","a","resultCode","url","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebarPage","usersPage","auth","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","Navbar","className","classes","nav","item","to","activeClassName","active","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","photos","small","userPhoto","usersPhoto","disabled","some","Users","props","getUsers","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","items","totalCount","Header","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","formSummaryError","length","stopSubmit","_error","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","Suspense","fallback","withRouter","promise","Promise","all","ReactDOM","document","getElementById","Textarea","input","meta","hasError","touched","formControl","value","maxLengthCreator","maxLength","loading","style","width","height","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likeCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","date","getState","reject","newPost"],"mappings":"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","file":"static/js/main.df68f0d1.chunk.js","sourcesContent":["const SEND_MESSAGE = 'dialogs-reducer/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n   messages: [\r\n      { id: 1, message: 'Hi' },\r\n      { id: 2, message: 'How are you' },\r\n      { id: 3, message: 'Yo' },\r\n      { id: 4, message: 'Yo' },\r\n      { id: 5, message: 'Yo' }\r\n   ],\r\n   dialogs: [\r\n      { id: 1, name: 'Dima', src: 'https://yt3.ggpht.com/a/AATXAJzvllV-xA9r3dw4EvsFiHQGDsjA7SHfRszdC4l_2g=s900-c-k-c0xffffffff-no-rj-mo' },\r\n      { id: 2, name: 'Vadim', src: 'https://www.ejin.ru/wp-content/uploads/2018/11/avatarki_dlya_devushek_4_19105932.jpg' },\r\n      { id: 3, name: 'Vanya', src: 'https://pbs.twimg.com/profile_images/913861131005022209/iaBdZZn1.jpg' },\r\n      { id: 4, name: 'Nikita', src: 'https://i03.fotocdn.net/s119/11a097ff366bfb24/user_l/2713047325.jpg' },\r\n      { id: 5, name: 'Leha', src: 'https://topwar.ru/uploads/posts/2014-07/thumbs/1404711070_art-krasivye-kartinki-putin-politika-1331294.jpeg' }\r\n   ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n      case SEND_MESSAGE:\r\n         let body = action.newMessageBody;\r\n         return {\r\n            ...state,\r\n            messages: [...state.messages, { id: 6, message: body }]\r\n         }\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\n\r\nexport const sendMessageCreater = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;","export default __webpack_public_path__ + \"static/media/user.23a7560b.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__3DE4Q\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n   withCredentials: true,\r\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n   headers: {\r\n      \"API-KEY\": \"d3c70f31-b445-4d8a-b64d-079a056d7140 \"\r\n   }\r\n});\r\n\r\nexport const usersAPI = {\r\n   getRequestUsers(currentPage, pageSize) {\r\n      return instance.get(`users?page=${currentPage}&count=${pageSize}`,)  \r\n         .then(response => {\r\n            return response.data;\r\n         });\r\n   },\r\n   follow(userId) {\r\n      return instance.post(`follow/${userId}`) \r\n   },\r\n   unfollow(userId) {\r\n      return instance.delete(`follow/${userId}`) \r\n   }\r\n} \r\n\r\nexport const profileAPI = {\r\n   getProfile(userId) {\r\n      return instance.get(`profile/`+ userId)\r\n   },\r\n   getStatus(userId) {\r\n      return instance.get(`profile/status/` + userId)\r\n   },\r\n   updateStatus(status) {\r\n      return instance.put(`profile/status`, {status: status})\r\n   },\r\n   savePhoto(photoFile) {\r\n      const formData= new FormData();\r\n      formData.append('image', photoFile)\r\n      return instance.put(`profile/photo`, formData)\r\n   },\r\n   saveProfile(profile) {\r\n      return instance.put(`profile`, profile)\r\n   }\r\n} \r\n\r\n\r\nexport const authAPI = {\r\n   me() {\r\n      return instance.get(`auth/me`)  \r\n   },\r\n   login ( email, password, rememberMe = false, captcha=null ) {\r\n      return instance.post(`auth/login`, { email, password, rememberMe, captcha }) \r\n   },\r\n   logout() {\r\n      return instance.delete(`auth/login`) \r\n   }\r\n}\r\n\r\nexport const securityAPI = {\r\n   getCaptchaUrl() {\r\n      return instance.get(`security/get-captcha-url`)  \r\n   }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__qeRgd\",\"item\":\"Navbar_item__3Aemu\",\"active\":\"Navbar_active__58tMQ\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\nlet initialState={\r\n   sideber: {}\r\n};\r\n\r\nconst sidebarReducer = (state=initialState, action) => {\r\n\r\n   return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = 'user-reducer/FOLLOW';\r\nconst UNFOLLOW = 'user-reducer/UNFOLLOW';\r\nconst SET_USERS = 'user-reducer/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'user-reducer/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'user-reducer/SET-TOTAL-USERS-COUNT';\r\nconst TOOGLE_IS_FETCHING = 'user-reducer/TOOGLE-IS-FETCHING';\r\nconst TOOGLE_IS_FOLLOWING_PROGRESS = 'user-reducer/TOOGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nlet initialState = {\r\n   users: [],\r\n   pageSize: 10,\r\n   totalUsersCount: 0,\r\n   currentPage: 1,\r\n   isFetching: false,\r\n   followingInProgress: []\r\n};\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n      case FOLLOW:\r\n         return {\r\n            ...state,\r\n            users: state.users.map(u => {\r\n               if (u.id === action.userId) {\r\n                  return { ...u, followed: true }\r\n               }\r\n               return u;\r\n            })\r\n         }\r\n\r\n      case UNFOLLOW:\r\n         return {\r\n            ...state,\r\n            users: state.users.map(u => {\r\n               if (u.id === action.userId) {\r\n                  return { ...u, followed: false }\r\n               }\r\n               return u;\r\n            })\r\n         }\r\n\r\n      case SET_USERS:\r\n         return { ...state, users: action.users }\r\n\r\n      case SET_CURRENT_PAGE:\r\n         return { ...state, currentPage: action.currentPage }\r\n\r\n      case SET_TOTAL_USERS_COUNT:\r\n         return { ...state, totalUsersCount: action.count }\r\n\r\n      case TOOGLE_IS_FETCHING:\r\n         return { ...state, isFetching: action.isFetching }\r\n\r\n      case TOOGLE_IS_FOLLOWING_PROGRESS:\r\n         return {\r\n            ...state, followingInProgress: action.isFetching\r\n               ? [...state.followingInProgress, action.userId]\r\n               : state.followingInProgress.filter(id => id != action.userId)\r\n         }\r\n\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toogleIsFetching = (isFetching) => ({ type: TOOGLE_IS_FETCHING, isFetching });\r\nexport const toogleFollowingProgress = (isFetching, userId) => ({ type: TOOGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\nexport const getRequestUsers = (currentPage, pageSize) => {\r\n\r\n   return (dispatch) => {\r\n\r\n      dispatch(toogleIsFetching(true));\r\n      dispatch(setCurrentPage(currentPage));\r\n\r\n      usersAPI.getRequestUsers(currentPage, pageSize).then(data => {\r\n         dispatch(toogleIsFetching(false));\r\n         dispatch(setUsers(data.items));\r\n         dispatch(setTotalUsersCount(data.totalCount));\r\n      });\r\n   }\r\n};\r\nexport const follow = (userId) => {\r\n\r\n   return async (dispatch) => {\r\n\r\n      dispatch(toogleFollowingProgress(true, userId));\r\n      let response = await usersAPI.follow(userId)\r\n\r\n      if (response.data.resultCode == 0) {\r\n         dispatch(followSuccess(userId));\r\n      }\r\n      dispatch(toogleFollowingProgress(false, userId));\r\n   }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\r\n   return async (dispatch) => {\r\n\r\n      dispatch(toogleFollowingProgress(true, userId));\r\n      let response = await usersAPI.unfollow(userId)\r\n\r\n      if (response.data.resultCode == 0) {\r\n         dispatch(unfollowSuccess(userId));\r\n      }\r\n      dispatch(toogleFollowingProgress(false, userId));\r\n   }\r\n}\r\n\r\nexport default usersReducer;","import { authAPI, securityAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth-reducer/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth-reducer/GET-CAPTCHA-URL-SUCCESS';\r\n\r\nlet initialState = {\r\n   userId: null,\r\n   email: null,\r\n   login: null,\r\n   isAuth: false,\r\n   captchaUrl: null\r\n\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n      case SET_USER_DATA:\r\n         return {\r\n            ...state,\r\n            ...action.payload\r\n         }\r\n      case GET_CAPTCHA_URL_SUCCESS:\r\n         return {\r\n            ...state, \r\n            ...action.payload\r\n         }\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload:\r\n         {userId, email, login, isAuth} });\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl} });        \r\n\r\nexport const getAuthUserData = () => async (dispatch) =>{\r\n   let response = await authAPI.me()\r\n   if (response.data.resultCode === 0) {\r\n      let {id, email, login} = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n   }\r\n}\r\n\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) =>{\r\n   let response = await authAPI.login(email, password, rememberMe, captcha)\r\n   if (response.data.resultCode === 0) {\r\n      dispatch(getAuthUserData());\r\n   } else {\r\n      if (response.data.resultCode === 10) {\r\n         dispatch(getCaptchaUrl());\r\n      }\r\n      let message = response.data.messages.length > 0 ? response.data.messages[0]: \"Some error\";\r\n      dispatch(stopSubmit('login', {_error: message }))\r\n   }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) =>{\r\n   let response = await securityAPI.getCaptchaUrl()\r\n   const captchaUrl = response.data.url\r\n   dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch) =>{\r\n   let response = await authAPI.logout()\r\n   if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n   }\r\n}\r\n\r\n\r\nexport default authReducer;","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app-reducer/INITIALIZED-SUCCESS';\r\n\r\nlet initialState = {\r\n   initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n      case INITIALIZED_SUCCESS:\r\n         return {\r\n            ...state,\r\n            initialized: true\r\n         }\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\n\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n   let promise = dispatch(getAuthUserData());\r\n\r\n   Promise.all([promise]).then (() => {\r\n      dispatch(initializedSuccess());\r\n   })\r\n}\r\n\r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers=combineReducers({\r\n   profilePage: profileReducer,\r\n   dialogsPage: dialogsReducer,\r\n   sidebarPage: sidebarReducer,\r\n   usersPage: usersReducer,\r\n   isFetching: usersReducer,\r\n   auth: authReducer,\r\n   form: formReducer,\r\n   app: appReducer\r\n});\r\n\r\nlet store=createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n   return (\r\n      <nav className={classes.nav}>\r\n         <div className={classes.item}>\r\n            <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n         </div>\r\n         <div className={`${classes.item} ${classes.active}`}>\r\n            <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n         </div>\r\n         <div className={`${classes.item} ${classes.active}`}>\r\n            <NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\r\n         </div>\r\n         <div className={classes.item}>\r\n            <NavLink to=\"/news\">News</NavLink>\r\n         </div>\r\n         <div className={classes.item}>\r\n            <NavLink to=\"/music\">Music</NavLink>\r\n         </div>\r\n         <div className={classes.item}>\r\n            <NavLink to=\"/settings\">Settings</NavLink>\r\n         </div>\r\n      </nav>\r\n   )\r\n}\r\n\r\nexport default Navbar;","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\n\r\nlet Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n   let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n   let pages = [];\r\n   for (let i = 1; i <= pagesCount; i++) {\r\n      pages.push(i);\r\n   }\r\n\r\n   let portionCount = Math.ceil(pagesCount / portionSize);\r\n   let [portionNumber, setPortionNumber] = useState(1);\r\n   let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n   let rightPortionPageNumber = portionSize * portionNumber;\r\n\r\n\r\n   return <div className={styles.paginator}>\r\n      {portionNumber > 1 &&\r\n      <button onClick={ () => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n\r\n         {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n            return <span className={ cn ({\r\n               [styles.selectedPage]: currentPage === p\r\n            }, styles.pageNumber) }\r\n                  key={p}\r\n                  onClick={ (e) => {\r\n                     onPageChanged(p);\r\n                  }}>{p}</span>\r\n         })}\r\n      {portionCount > portionNumber &&\r\n         <button onClick={ () => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n   </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport styles from './users.module.css';\r\n\r\n\r\n\r\nlet User = ({user, followingInProgress, follow, unfollow}) => {\r\n\r\n   return <div>\r\n      <span>\r\n         <div>\r\n            <NavLink to={'/profile/' + user.id}>\r\n               <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.usersPhoto} />\r\n            </NavLink>\r\n         </div>\r\n         <div>\r\n            {user.followed\r\n               ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                  unfollow(user.id)\r\n               }}>Unfollow</button>\r\n\r\n               : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                  follow(user.id)\r\n               }}>Follow</button>}\r\n         </div>\r\n      </span>\r\n      <span>\r\n         <span>\r\n            <div>{user.name}</div>\r\n            <div>{user.status}</div>\r\n         </span>\r\n         <span>\r\n            <div>{'user.location.country'}</div>\r\n            <div>{'user.location.city'}</div>\r\n         </span>\r\n      </span>\r\n   </div>\r\n}\r\n\r\n\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n   return <div>\r\n      <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n                  totalUsersCount={props.totalUsersCount} pageSize={props.pageSize}/>\r\n      {\r\n         props.users.map(u => <User key={u.id} user={u} unfollow={props.unfollow} follow={props.follow}\r\n                                    followingInProgress={props.followingInProgress}/>)\r\n      }\r\n   </div>\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n   return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n   return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n   return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n   return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n   return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n   return state.usersPage.followingInProgress\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, setCurrentPage, getRequestUsers, toogleFollowingProgress } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../../common/loading/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n   componentDidMount() {\r\n\r\n      this.props.getRequestUsers(this.props.currentPage, this.props.pageSize);\r\n   }\r\n\r\n\r\n   onPageChanged = (pageNumber) => {\r\n\r\n      this.props.getRequestUsers(pageNumber, this.props.pageSize);\r\n   }\r\n\r\n   render() {\r\n\r\n      return <>\r\n         {this.props.isFetching ? <Preloader /> : null}\r\n         <Users\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            pageSize={this.props.pageSize}\r\n            currentPage={this.props.currentPage}\r\n            onPageChanged={this.onPageChanged}\r\n            users={this.props.users}\r\n            follow={this.props.follow}\r\n            unfollow={this.props.unfollow}\r\n            followingInProgress={this.props.followingInProgress}\r\n         />\r\n      </>\r\n   }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      users: getUsers(state),\r\n      pageSize: getPageSize(state),\r\n      totalUsersCount: getTotalUsersCount(state),\r\n      currentPage: getCurrentPage(state),\r\n      isFetching: getIsFetching(state),\r\n      followingInProgress: getFollowingInProgress(state)\r\n   }\r\n}\r\n\r\n\r\nexport default compose (\r\n   connect(mapStateToProps, { follow, unfollow, setCurrentPage, toogleFollowingProgress, getRequestUsers })\r\n) (UsersContainer);\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n   return <header className = {classes.header}>\r\n      <img src='https://jobstrategy.ru/wp-content/uploads/2015/12/shell-logo-400x400-180x180.png' />\r\n      <div className={classes.loginBlock}>\r\n         { props.isAuth \r\n         ? <div>{props.login} <br/> <button onClick = {props.logout}>Logout</button></div>\r\n         : <NavLink to={'/login'}>Login</NavLink> }\r\n      </div>\r\n      <span>С*В*О*И</span>\r\n   </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n   \r\n   render() {\r\n      return <Header {...this.props} />\r\n   }\r\n}  \r\n\r\nconst mapStateToProps = (state) => ({\r\n   isAuth: state.auth.isAuth,\r\n   login: state.auth.login\r\n});\r\nexport default connect (mapStateToProps, {logout}) (HeaderContainer);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../../common/FormsControls/FormsControl';\r\nimport { required } from '../../utils/validators';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from '../../common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = (props) => {\r\n   return (\r\n      <form onSubmit={props.handleSubmit}>\r\n         <div>\r\n            <Field placeholder={'Email'} name={'email'} component={Input} validate={[required]}/>\r\n         </div>\r\n         <div>\r\n            <Field placeholder={'Password'} name={'password'} component={Input} validate={[required]} type='password'/>\r\n         </div>\r\n         <div>\r\n            <Field component={Input} name={'remember me'} type={'checkbox'} />remember me\r\n         </div>\r\n\r\n         {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n         {props.captchaUrl && <Field placeholder={'Symbols from image'} name={'captcha'} component={Input} validate={[required]}/>}\r\n\r\n         {props.error && <div className={styles.formSummaryError}>\r\n            {props.error}\r\n         </div>\r\n         }\r\n         <div>\r\n            <button>Login</button>\r\n         </div>\r\n      </form>\r\n   )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'}) (LoginForm)\r\n\r\nconst Login = (props) => {\r\n   const onSubmit=(formData) => {\r\n      props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n   }\r\n\r\n   if (props.isAuth) {\r\n      return <Redirect to={'/profile'}/>\r\n   }\r\n\r\n   return <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n      </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n   return {\r\n   isAuth: state.auth.isAuth,\r\n   captchaUrl: state.auth.captchaUrl\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, {login}) (Login);","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport { Route, withRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/Login/Login';\nimport { initializeApp } from './redux/app-reducer';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport Preloader from './common/loading/Preloader';\n\nconst ProfileContainer = React.lazy( () => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy( () => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Route path='/dialogs' render={() => {\n            return <React.Suspense fallback={<div>Loading...</div>}>\n                <DialogsContainer />\n            </React.Suspense>\n          }}/>\n\n          <Route path='/profile/:userId?' render={() => {\n            return <React.Suspense fallback={<div>Loading...</div>}>\n                <ProfileContainer />\n            </React.Suspense>\n          }}/>\n\n          <Route path='/users' render={() => <UsersContainer />} />\n          <Route path='/login' render={() => <LoginPage />} />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose (\n  withRouter,\n  connect( mapStateToProps, { initializeApp }))(App);\n\n\n","import reportWebVitals from './reportWebVitals';\nimport store from './redux/redux-store';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n   <BrowserRouter>\n      <Provider store={store}>\n         <App/>\n      </Provider>\n   </BrowserRouter>, document.getElementById('root'));   \n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__s_WJh\",\"error\":\"FormsControls_error__1ZTNI\",\"formSummaryError\":\"FormsControls_formSummaryError__2MLgW\"};","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n   \r\n   const hasError = meta.error && meta.touched;\r\n\r\n   return (\r\n      <div className={styles.formControl+ \" \" + (hasError ? styles.error : ' ' )}>\r\n         <div>\r\n            <textarea {...input} {...props} />\r\n         </div>\r\n         {hasError && <span>{meta.error}</span>}\r\n      </div>\r\n   )\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n   \r\n   const hasError = meta.error && meta.touched;\r\n\r\n   return (\r\n      <div className={styles.formControl+ \" \" + (hasError ? styles.error : ' ' )}>\r\n         <div>\r\n            <input {...input} {...props} />\r\n         </div>\r\n         {hasError && <span>{meta.error}</span>}\r\n      </div>\r\n   )\r\n}","export const required = value => {\r\n   if (value) return undefined;\r\n   return 'Field is required'\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n   if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n   return undefined;\r\n}","export default __webpack_public_path__ + \"static/media/loading.8e774cf0.gif\";","import React from 'react';\r\nimport loading from '../../assets/images/loading.gif';\r\n\r\nlet Preloader = (props) => {\r\n   return <div>\r\n            <img src = {loading} style ={{width: '150px', height: '100px'}} />\r\n         </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Paginator_pageNumber__tw2YI\",\"selectedPage\":\"Paginator_selectedPage__2yDAQ\",\"paginator\":\"Paginator_paginator__GSEoB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2D3yy\",\"loginBlock\":\"Header_loginBlock__2nZRt\"};","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile-reducer/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile-reducer/SET-USER-PROFILE';\r\nconst SET_STATUS = 'profile-reducer/SET-STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'profile-reducer/SAVE-PHOTO-SUCCESS';\r\n\r\nlet initialState = {\r\n   posts: [\r\n      { id: 1, message: 'Hi, how are you?', likeCount: 15 },\r\n      { id: 2, message: 'It`s my first post', likeCount: 25 },\r\n      { id: 3, message: 'I`m fine', likeCount: 10 },\r\n      { id: 4, message: 'I can fly', likeCount: 35 },\r\n   ],\r\n   profile: null,\r\n   status: ''\r\n};\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n      case ADD_POST:\r\n         let newPost = {\r\n            id: 5,\r\n            message: action.newPostText,\r\n            likeCount: 0\r\n         };\r\n         return {\r\n            ...state,\r\n            posts: [...state.posts, newPost]\r\n         }\r\n      case SET_USER_PROFILE:\r\n         return { ...state, profile: action.profile }\r\n      case SET_STATUS:\r\n         return { ...state, status: action.status }\r\n      case SAVE_PHOTO_SUCCESS:\r\n         return { ...state, profile: {...state.profile, photos: action.photos }}\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n   let response = await profileAPI.getProfile(userId)\r\n   dispatch(setUserProfile(response.data));\r\n}\r\n\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n   let response = await profileAPI.getStatus(userId)\r\n   dispatch(setStatus(response.data));\r\n}\r\n\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n   let response = await profileAPI.updateStatus(status)\r\n   if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n   }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n   let response = await profileAPI.savePhoto(file)\r\n   if (response.data.resultCode === 0) {\r\n      dispatch(savePhotoSuccess(response.date.data.photos));\r\n   }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n   const userId = getState().auth.userId;\r\n   let response = await profileAPI.saveProfile(profile)\r\n   if (response.data.resultCode === 0) {\r\n      dispatch(getUserProfile(userId));\r\n   } else {\r\n      dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n      return Promise.reject(response.data.messages[0])\r\n   }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}